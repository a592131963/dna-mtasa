{"ts":1350329571599,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"--blips enzo\r\ncreateBlip (1607.36, 1814.24, -10, 22)\r\ncreateBlip (2102.18, 2257.44, 12, 45)\r\ncreateBlip (2158.70, 943.07, 12, 18)\r\ncreateBlip (2000.55, 1526.25, 14.6171875, 38)\r\ncreateBlip (1942.57, 2184.79, 9.82, 55)\r\ncreateBlip (2005.82, 2310.60, 9.82, 63)\r\ncreateBlip (2355.89, -648.62, 127.05, 37)\r\ncreateBlip (2489.96, 2064.51, 11.82, 52)\r\ncreateBlip (1173.17, 1348.80, 9.92, 33)\r\ncreateBlip (-10, -10, 0, 33)\r\ncreateBlip (-2051.58,-407.77,37.73, 33)\r\n\r\n\r\n--Teamtimer, automatisch in team (voor de no-teambug)\r\nfunction TeamTimer ()\r\n\tlocal players = getElementsByType(\"player\")\r\n\tfor i,v in ipairs(players) do\r\n\t\tsetPlayerTeam (v, spawnTeam)\r\n\tend\r\nend\r\nsetTimer (TeamTimer, 10000, 0)\r\n\r\n--areachat\r\nlocal chatRadius = 25 --units\r\nfunction sendMessageToNearbyPlayers( message, messageType )\r\n\t\tif messageType == 2 then\r\n\t\t\t\tlocal posX, posY, posZ = getElementPosition( source )\r\n \r\n\t\t\t\tlocal chatSphere = createColSphere( posX, posY, posZ, chatRadius )\r\n\t\t\t\tlocal nearbyPlayers = getElementsWithinColShape( chatSphere, \"player\" )\r\n\t\t\t\tdestroyElement( chatSphere )\r\n\t\t\t\tfor index, nearbyPlayer in ipairs( nearbyPlayers ) do\r\n\t\t\t\t\tlocal theName = getAccountName (getPlayerAccount (source))\r\n\t\t\t\t\toutputChatBox( \"#FF0000[AREA] \".. theName ..\": #FFFFFF\" .. message, nearbyPlayer, 0, 0, 0, true )\r\n\t\t\t\tend\r\n\t\t\t\tcancelEvent()\r\n\t\tend\r\nend\r\naddEventHandler( \"onPlayerChat\", getRootElement(), sendMessageToNearbyPlayers )\r\n\r\n--public chat\r\nfunction sendMessageToNearbyPlayers( message, messageType )\r\n\t\tif messageType == 0 then\r\n\t\t\t\tfor i,v in ipairs( getElementsByType (\"player\") ) do\r\n\t\t\t\t\tlocal theName = getAccountName (getPlayerAccount (source))\r\n\t\t\t\t\toutputChatBox( \"#00FF00\".. theName ..\": #FFFFFF\" .. message, v, 0, 0, 0, true )\r\n\t\t\t\tend\r\n\t\t\t\tcancelEvent()\r\n\t\tend\r\nend\r\naddEventHandler( \"onPlayerChat\", getRootElement(), sendMessageToNearbyPlayers )\r\n\r\n-- /me chat\r\nfunction sendMessageToNearbyPlayers( message, messageType )\r\n\t\tif messageType == 1 then\r\n\t\t\t\tfor i,v in ipairs( getElementsByType (\"player\") ) do\r\n\t\t\t\t\tlocal theName = getAccountName (getPlayerAccount (source))\r\n\t\t\t\t\toutputChatBox( \"* \".. theName .. \"#FF00FF \" .. message, v, 255, 0, 255, true )\r\n\t\t\t\tend\r\n\t\t\t\tcancelEvent()\r\n\t\tend\r\nend\r\naddEventHandler( \"onPlayerChat\", getRootElement(), sendMessageToNearbyPlayers )\r\n\r\n\r\n--Vehicle upgraden voor 100$\r\nupgradeMarker = createMarker (2005.82, 2310.60, 9.82, \"cylinder\", 5, 255, 255, 0, 127)\r\nfunction vehicleUpgrades (hitPlayer, matchingDimension)\r\n\tif (source == upgradeMarker) and (getElementType (hitPlayer) == \"player\") then\r\n\t\tif (isPedInVehicle (hitPlayer)) and (getPlayerMoney (hitPlayer) >= 100) then\r\n\t\t\ttakePlayerMoney (hitPlayer, 100)\r\n\t\t\toutputChatBox (\"Spray, fix... OK !\", hitPlayer, 255, 0, 0, false)\r\n\t\t\tlocal color = math.random (0,126)\r\n\t\t\tsetVehicleColor (getPedOccupiedVehicle(hitPlayer), color, color, color, color)\r\n\t\t\tfixVehicle (getPedOccupiedVehicle(hitPlayer))\r\n\t\tend\r\n\tend\r\nend\r\naddEventHandler (\"onMarkerHit\", getRootElement(), vehicleUpgrades)\r\n\r\n--invisibleshop\r\naddEventHandler (\"onResourceStart\", getRootElement(), \r\nfunction ()\r\n\tinvisibleShopMarker = createMarker (2355.89, -648.62, 127.05, \"cylinder\", 2, 255, 0, 255, 127, getRootElement())\r\n\taddCommandHandler (\"visible\", shopBuyVisibleCommand)\r\nend)\r\n\r\nfunction markerHitStartShop (hitPlayer, matchingdimension)\r\n\tif (source == invisibleShopMarker) then\r\n\t\taddCommandHandler (\"invisible\", shopBuyInvisibleCommand)\r\n\t\toutputChatBox (\"Welcome to the Magic shop!\", hitPlayer, 255, 0, 0, getRootElement())\r\n\t\toutputChatBox (\"If you've got a card, then invisible costs 100$\", hitPlayer, 255, 0, 0, getRootElement())\r\n\t\toutputChatBox (\"Else you pay 50.000$\", hitPlayer, 255, 0, 0, getRootElement())\r\n\t\toutputChatBox (\"Use /invisible to pay for invisiblity!\", hitPlayer, 255, 0, 0, getRootElement())\r\n\t\toutputChatBox (\"Enough with being invisible? use /visible!\", hitPlayer, 255, 0, 0, getRootElement())\r\n\tend\r\nend\r\naddEventHandler (\"onMarkerHit\", getRootElement(), markerHitStartShop)\r\n\r\nfunction markerLeaveStartShop (leavePlayer, matchingdimension)\r\n\tif (source == invisibleShopMarker) then\r\n\t\tremoveCommandHandler (\"invisible\", shopBuyInvisibleCommand)\r\n\t\toutputChatBox (\"Come back later ;)\", leavePlayer, 255, 0, 0, getRootElement())\r\n\tend\r\nend\r\naddEventHandler (\"onMarkerLeave\", getRootElement(), markerLeaveStartShop)\r\n\r\nfunction shopBuyInvisibleCommand (thePlayer, command)\r\n\tif not (isGuestAccount (getPlayerAccount (thePlayer))) then\r\n\t\tif (isElementWithinMarker (thePlayer, invisibleShopMarker)) and (getPlayerMoney (thePlayer) >= 50000) then\r\n\t\t\ttakePlayerMoney (thePlayer, 50000)\r\n\t\t\tsetElementAlpha (thePlayer, 0)\r\n\t\t\tsetPlayerNametagShowing (thePlayer, false)\r\n\t\t\toutputChatBox (\"Invisiblity set, use /visible to be back to normal.\", thePlayer, 255, 0, 0, getRootElement())\r\n\t\t\toutputChatBox (\"This costs you 50000$.\", thePlayer, 255, 0, 0, getRootElement())\r\n\t\telse\r\n\t\t\toutputChatBox (\"You must be in the magicshop to get invisible or you are too poor (50000$).\", thePlayer, 255, 0, 0, getRootElement())\r\n\t\tend\r\n\tend\r\nend\r\n\r\nfunction shopBuyVisibleCommand (thePlayer, command)\r\n\tsetElementAlpha (thePlayer, 255)\r\n\tsetPlayerNametagShowing (thePlayer, true)\r\n\toutputChatBox (\"Visible reset.\", thePlayer, 255, 0, 0, getRootElement())\r\nend\r\n\r\n-- Anti Hack\r\n--addEventHandler ( \"onPlayerWeaponSwitch\", getRootElement(), \r\nfunction ( prevID, curID )\r\n\tif (curID == 35) then\r\n\t\tkickHaxingNoob (source, curID)\r\n\telseif (curID == 36) then\r\n\t\tkickHaxingNoob (source, curID)\r\n\telseif (curID == 37) then\r\n\t\tkickHaxingNoob (source, curID)\r\n\telseif (curID == 38) then\r\n\t\tkickHaxingNoob (source, curID)\r\n\tend\r\nend)\r\n\r\nfunction kickHaxingNoob (player, weapon)\r\n\ttakeWeapon (player, weapon)\r\n\toutputChatBox ( getPlayerName (player) .. \" USES HAAAAAX!\", getRootElement(), 255, 0, 0, false)\r\n\tkickPlayer (player, \"HAAAAAAAAX!\")\t\r\nend "]],"start1":0,"start2":0,"length1":0,"length2":5830}]],"length":5830}
{"contributors":[],"silentsave":false,"ts":1350293556505,"patch":[[{"diffs":[[0,"ootElement(), \r\n"],[1,"--"],[0,"function ( prevI"]],"start1":5316,"start2":5316,"length1":32,"length2":34},{"diffs":[[0,"urID )\r\n"],[1,"--"],[0,"\tif (cur"]],"start1":5354,"start2":5354,"length1":16,"length2":18},{"diffs":[[0,"ID == 35) then\r\n"],[1,"--"],[0,"\t\tkickHaxingNoob"]],"start1":5372,"start2":5372,"length1":32,"length2":34},{"diffs":[[0,"source, curID)\r\n"],[1,"--"],[0,"\telseif (curID ="]],"start1":5408,"start2":5408,"length1":32,"length2":34},{"diffs":[[0,"ID == 36) then\r\n"],[1,"--"],[0,"\t\tkickHaxingNoob"]],"start1":5438,"start2":5438,"length1":32,"length2":34},{"diffs":[[0,"source, curID)\r\n"],[1,"--"],[0,"\telseif (curID ="]],"start1":5474,"start2":5474,"length1":32,"length2":34},{"diffs":[[0,"ID == 37) then\r\n"],[1,"--"],[0,"\t\tkickHaxingNoob"]],"start1":5504,"start2":5504,"length1":32,"length2":34},{"diffs":[[0,"curID)\r\n"],[1,"--"],[0,"\telseif "]],"start1":5548,"start2":5548,"length1":16,"length2":18},{"diffs":[[0,") then\r\n"],[1,"--"],[0,"\t\tkickHa"]],"start1":5578,"start2":5578,"length1":16,"length2":18},{"diffs":[[0,"curID)\r\n"],[1,"--"],[0,"\tend\r\n"],[1,"--"],[0,"end)\r\n\r\n"]],"start1":5614,"start2":5614,"length1":22,"length2":26}]],"length":5852,"saved":false}
