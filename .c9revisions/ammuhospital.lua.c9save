{"ts":1350396154823,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"function weapons ()\r\n\tmp5 = createPickup (288.07, -76.97, 1001.51, 2, 29, 1000, 0)\r\n\tsetElementInterior (mp5, 4)\r\n\tm4 = createPickup (288.24, -73.83, 1001.51, 2, 31, 1000, 0)\r\n\tsetElementInterior (m4, 4)\r\n\thospitalHealth = createPickup (2000.67, 1523.21, 17.06, 0, 0, 10)\r\n\thospitalHealth2 = createPickup (1599.51, 1815.87, 10.82, 0, 0, 10)\r\n\thospitalArmor = createPickup (1615.04, 1815.87, 10.82, 1, 0, 10)\r\nend\r\naddEventHandler (\"onResourceStart\", getRootElement(), weapons)\r\n\r\nfunction weaponPayment (playerWhoUses)\r\n\tthePlayerMoney = getPlayerMoney (playerWhoUses)\r\n\tif (source == m4) then\r\n\t\tif (thePlayerMoney > 250) then\r\n\t\t\ttakePlayerMoney (playerWhoUses, 250)\r\n\t\t\toutputChatBox (\"Picked up a M4, this costs you $250\", playerWhoUses, 255, 0, 0, false)\r\n\t\t\tgiveWeapon (playerWhoUses, 31, 250, true)\r\n\t\telse\r\n\t\t\toutputChatBox (\"You haven't got 250$ to buy this!\", playerWhoUses, 255, 0, 0, false)\r\n\t\tend\r\n\tend\r\n\tif (source == mp5) then\r\n\t\tif (thePlayerMoney > 100) then\r\n\t\t\ttakePlayerMoney (playerWhoUses, 100)\r\n\t\t\toutputChatBox (\"Picked up a mp5, this costs you $100\", playerWhoUses, 255, 0, 0, false)\r\n\t\t\tgiveWeapon (playerWhoUses, 29, 100, true)\r\n\t\telse\r\n\t\t\toutputChatBox (\"You haven't got 100$ to buy this!\", playerWhoUses, 255, 0, 0, false)\r\n\t\tend\r\n\tend\r\n\tif (source == hospitalHealth) then\r\n\t\ttheHealth = getElementHealth (playerWhoUses)\r\n\t\thealthMoney = 100-theHealth\r\n\t\tif (thePlayerMoney > healthMoney+1) then\r\n\t\t\toutputChatBox (\"press Tab to pickup, 1$/x%.\", playerWhoUses, 255, 0, 0, false)\r\n\t\t\tbindKey (playerWhoUses, \"tab\", \"down\", hospitalHealthPickup, playerWhoUses)\r\n      setTimer (unbindKey, 1000, 1, playerWhoUses, \"tab\", \"down\", hospitalHealthPickup)\r\n\t\telse\r\n\t\t\toutputChatBox (\"You haven't got enough money to take this!\", playerWhoUses, 255, 0, 0, false)\r\n\t\tend\r\n\tend\r\n\tif (source == hospitalHealth2) then\r\n\t\ttheHealth2 = getElementHealth (playerWhoUses)\r\n\t\thealthMoney2 = 100-theHealth2\r\n\t\tif (thePlayerMoney > healthMoney2+1) then\r\n\t\t\toutputChatBox (\"press Tab to pickup, 1$/x%.\", playerWhoUses, 255, 0, 0, false)\r\n\t\t\tbindKey (playerWhoUses, \"tab\", \"down\", hospitalHealthPickup, playerWhoUses)\r\n      setTimer (unbindKey, 1000, 1, playerWhoUses, \"tab\", \"down\", hospitalHealthPickup)\r\n\t\telse\r\n\t\t\toutputChatBox (\"You haven't got enough money to take this!\", playerWhoUses, 255, 0, 0, false)\r\n\t\tend\r\n\tend\r\n\tif (source == hospitalArmor) then\r\n\t\ttheHealth = getElementHealth (playerWhoUses)\r\n\t\tif (thePlayerMoney > 199) then\r\n\t\t\toutputChatBox (\"press Tab to pickup, 200$/50%.\", playerWhoUses, 255, 0, 0, false)\r\n\t\t\tbindKey (playerWhoUses, \"tab\", \"down\", hospitalArmorPickup, playerWhoUses)\r\n\t\t\tfunction hospitalArmorPickup (thePlayer)\r\n        if (getPlayerMoney (thePlayer) > 119) then\r\n          if (getPedArmor (thePlayer) < 100) then\r\n            takePlayerMoney (thePlayer, 200)\r\n            setPedArmor (thePlayer, getPedArmor (thePlayer) +50)\r\n            outputChatBox (\"Picked up a armorpickup, you have paid 50$\", thePlayer, 255, 0, 0, false)\r\n          end\r\n          outputChatBox (\"You have too much armor to take this!\", thePlayer, 255, 0, 0, false)\r\n        end\r\n        outputChatBox (\"You haven't got enough money to take this!\", thePlayer, 255, 0, 0, false)\r\n      end\r\n      setTimer (unbindKey, 1000, 1, playerWhoUses, \"tab\", \"down\", hospitalArmorPickup)\r\n\t\telse\r\n\t\t\toutputChatBox (\"You haven't got enough money to take this!\", playerWhoUses, 255, 0, 0, false)\r\n\t\tend\r\n\tend\r\nend\r\naddEventHandler (\"onPickupUse\", getRootElement(), weaponPayment)\r\n\r\nfunction hospitalHealthPickup (thePlayer)\r\n  if (getPlayerMoney (thePlayer) > healthMoney) then\r\n    takePlayerMoney (thePlayer, healthMoney)\r\n    setElementHealth (thePlayer, 100)\r\n    outputChatBox (\"Picked up a healthpickup, you have paid 1$ for each %\", thePlayer, 255, 0, 0, false)\r\n  else\r\n  outputChatBox (\"You haven't got enough money to take this!\", thePlayer, 255, 0, 0, false)\r\n  end\r\nend\r\n"]],"start1":0,"start2":0,"length1":0,"length2":3894}]],"length":3894}
{"contributors":[],"silentsave":false,"ts":1350360389441,"patch":[[{"diffs":[[0,"playerWhoUses)\r\n"],[-1,"      "],[1,"\t\t\t"],[0,"setTimer (unbind"]],"start1":1573,"start2":1573,"length1":38,"length2":35},{"diffs":[[0,"oUses)\r\n"],[-1,"      "],[1,"\t\t\t"],[0,"setTimer"]],"start1":2114,"start2":2114,"length1":22,"length2":19},{"diffs":[[0,"layer)\r\n"],[-1,"        "],[1,"\t\t\t\t"],[0,"if (getP"]],"start1":2647,"start2":2647,"length1":24,"length2":20},{"diffs":[[0,") then\r\n"],[-1,"          "],[1,"\t\t\t\t\t"],[0,"if (getP"]],"start1":2695,"start2":2695,"length1":26,"length2":21},{"diffs":[[0,") then\r\n"],[-1,"            "],[1,"\t\t\t\t\t\t"],[0,"takePlay"]],"start1":2741,"start2":2741,"length1":28,"length2":22},{"diffs":[[0,", 200)\r\n"],[-1,"            "],[1,"\t\t\t\t\t\t"],[0,"setPedAr"]],"start1":2781,"start2":2781,"length1":28,"length2":22},{"diffs":[[0,"0)\r\n"],[-1,"            "],[1,"\t\t\t\t\t\t"],[0,"outp"]],"start1":2845,"start2":2845,"length1":20,"length2":14},{"diffs":[[0,"e)\r\n"],[-1,"          end\r\n          "],[1,"\t\t\t\t\tend\r\n\t\t\t\t\t"],[0,"outp"]],"start1":2942,"start2":2942,"length1":33,"length2":23},{"diffs":[[0,"e)\r\n"],[-1,"        end\r\n        "],[1,"\t\t\t\tend\r\n\t\t\t\t"],[0,"outp"]],"start1":3043,"start2":3043,"length1":29,"length2":21},{"diffs":[[0,"e)\r\n"],[-1,"      end\r\n      "],[1,"\t\t\tend\r\n\t\t\t"],[0,"setT"]],"start1":3147,"start2":3147,"length1":25,"length2":19},{"diffs":[[0,"layer)\r\n"],[-1,"  "],[1,"\t"],[0,"if (getP"]],"start1":3471,"start2":3471,"length1":18,"length2":17},{"diffs":[[0,") then\r\n"],[-1,"    "],[1,"\t\t"],[0,"takePlay"]],"start1":3524,"start2":3524,"length1":20,"length2":18},{"diffs":[[0,"Money)\r\n"],[-1,"    "],[1,"\t\t"],[0,"setEleme"]],"start1":3568,"start2":3568,"length1":20,"length2":18},{"diffs":[[0,"0)\r\n"],[-1,"    "],[1,"\t\t"],[0,"outp"]],"start1":3609,"start2":3609,"length1":12,"length2":10},{"diffs":[[0,"e)\r\n"],[-1,"  "],[1,"\t"],[0,"else\r\n"],[-1,"  "],[1,"\t"],[0,"outp"]],"start1":3713,"start2":3713,"length1":18,"length2":16},{"diffs":[[0,"e)\r\n"],[-1,"  "],[1,"\t"],[0,"end\r"]],"start1":3812,"start2":3812,"length1":10,"length2":9}]],"length":3827,"saved":false}
